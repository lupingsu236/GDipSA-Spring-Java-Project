<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org" th:replace="~{fragments/layout :: layout (~{::body})}">

<body>
	<div class="my-4 container-sm">
	
	<div class="row">
		<div class="col-sm-9"> <h3>Car Jobs</h3></div>
		<div class="col-sm">
		<a th:href="@{/transaction/new}" class="btn btn-info">New Job</a>
		</div>
	</div>
	<br>
	
	<div class="card mb-4">
          <div class="card-header">
              <i class="fas fa-table mr-1"></i>
              Transaction Details History
          </div>
          <div class="card-body">
              <div class="table-responsive">
                  <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                      <thead>
                          <tr>
								<th>Transaction Id</th>
								<th>Car Plate No.</th>
								<th>Name of User</th>
								<th>View Transaction Details</th>
								<th>Edit Transaction</th>
								<th>Delete Transaction</th>
                          </tr>
                      </thead>
                     <!--  <tfoot>
                          <tr>
                                <th>Transaction Id</th>
								<th>Date Added</th>
								<th>Car Plate No.</th>
								<th>Name of User</th>
								<th>View Transaction Details</th>
								<th>Delete Transaction</th>
                          </tr>
                      </tfoot>  -->
					  <tbody>
					  		<tr th:each="t : ${transactions}">
								<td th:utext="${t.id}"></td>
								<td th:utext="${t.carPlateNo}"></td>
								<td th:utext="${t.user.fullName}"></td>
								<td>
								<a href="#" class="btn btn-light" th:href="@{/transactiondetails/detail/} + ${t.id}">Details</a>
								</td>
								<td>
								<a href="#" class="btn btn-light" th:href="@{/transaction/edit/} + ${t.id}">Edit</a>
								</td>
								<td>
								<a href="#" class="btn btn-danger" th:href="@{/transaction/delete/} + ${t.id}" 
								onclick="return confirm('Are you sure you want to delete this transaction? \r\nAll related details will be deleted.')">Delete</a>
								</td>
							</tr>
					  </tbody>
				</table>
			</div>
		</div>
	</div>
</div>
</body>
</html>